(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,n,t){e.exports=t(291)},291:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(26),o=t.n(i),l=t(4),c=t(1),u=t(2),s=t(32),p=t(111),d=t(17),f=t(14),b=t(9),v=t(112),h=t.n(v),m={id:null,popup:{}},g={name:"",title:"",description:"",backgroundColor:"#ffffff",titleColor:"#4b2e83",descriptionColor:"#4b2e83",bodyColor:"#444444",borderWidth:"1px",borderStyle:"none",borderColor:"#4b2e83",position:"top",formId:"0",published:!1,saveToUsermeta:!0,rules:{categories:[],tags:[],postTypes:[]}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_POPUP":return Object(b.a)({},e,{id:h()(),popup:g});case"DELETE_POPUP":return Object(b.a)({},m);case"SELECT_POPUP":return Object(b.a)({},e,{id:n.id,popup:n.popup});case"CLEAR_VIEW":return Object(b.a)({},e,m);case"UPDATE_FIELD":return Object(b.a)({},e,{popup:Object(b.a)({},e.popup,Object(f.a)({},n.label,n.value))});case"ADD_RULE":return Object(b.a)({},e,{popup:Object(b.a)({},e.popup,{rules:Object(b.a)({},e.popup.rules,Object(f.a)({},n.label,[].concat(Object(d.a)(e.popup.rules[n.label]),[n.newRule])))})});case"REMOVE_RULE":return Object(b.a)({},e,{popup:Object(b.a)({},e.popup,{rules:Object(b.a)({},e.popup.rules,Object(f.a)({},n.label,[].concat(Object(d.a)(e.popup.rules[n.label].slice(0,n.index)),Object(d.a)(e.popup.rules[n.label].slice(n.index+1)))))})});case"UPDATE_RULE":var t=[],r=e.popup.rules[n.label];return t="&"===n.value||"|"===n.value?r.map(function(e,t){return t===n.index?n.value+e.slice(1):e}):"!"===n.value||"$"===n.value?r.map(function(e,t){return t===n.index?e[0]+n.value+e.slice(2):e}):r.map(function(e,t){return t===n.index?e.slice(0,2)+n.value:e}),Object(b.a)({},e,{popup:Object(b.a)({},e.popup,{rules:Object(b.a)({},e.popup.rules,Object(f.a)({},n.label,t))})});default:return e}},O=t(21);function y(e){var n=function(e,n){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===typeof n?n:String(n)}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_POPUPS":return Object(b.a)({},n.popups);case"DELETE_POPUP":var t=""+n.id,r=(e[t],Object(O.a)(e,[t].map(y)));return Object(b.a)({},r);default:return e}},w={NameSelect:"OPEN",NewButton:"OPEN",SaveButton:"CLOSED",DelButton:"CLOSED",DataMessage:"CLOSED",StylingSection:"CLOSED",RulesSection:"CLOSED",TextSection:"CLOSED",Preview:"CLOSED"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_VISIBILITY":return Object(b.a)({},e,n.targets);case"ADD_POPUP":case"UPDATE_FIELD":case"ADD_RULE":case"REMOVE_RULE":case"UPDATE_RULE":return Object(b.a)({},e,{DataMessage:"CLOSED"});default:return e}},k=function(e){if(window[e])return window[e];return{}}("chsieFormData"),C={isFetching:!1,isSaved:!0,isDeleted:!0,forms:k.forms?JSON.parse(k.forms):void 0,categories:k.categories?k.categories:[],tags:k.tags?k.tags:[],postTypes:k.post_types?k.post_types:[]};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_DATA":return Object(b.a)({},e,n.targets);case"UPDATE_FIELD":case"ADD_RULE":case"REMOVE_RULE":case"UPDATE_RULE":return Object(b.a)({},e,{isSaved:!1});case"SELECT_POPUP":case"DELETE_POPUP":return Object(b.a)({},e,{isSaved:!0});default:return e}},P=Object(s.c)({view:E,popups:x,visibility:j,data:S}),D=Object(s.d)(P,Object(s.a)(p.a));function T(e){var n=function(e,n){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===typeof n?n:String(n)}var N=window.location.origin,L=N.indexOf("localhost")>-1?N+"/dev/wp-json/chsie_popups/v1/popups":N+"/wp-json/chsie_popups/v1/popups",F=function(e){return{type:"SET_VISIBILITY",targets:e}},R=function(e,n,t){var r="CLOSED"===t.TextSection&&"CLOSED"===t.StylingSection&&"CLOSED"===t.RulesSection,a="OPEN"===t.TextSection&&"OPEN"===t.StylingSection&&"OPEN"===t.RulesSection;if(r&&n(),a){e(F({TextSection:"CLOSING",StylingSection:"CLOSING",RulesSection:"CLOSING"}));var i=D.subscribe(function(){var e=D.getState().visibility;"CLOSED"===e.TextSection&&"CLOSED"===e.StylingSection&&"CLOSED"===e.RulesSection&&(i(),n())})}},I=function(e){return{type:"UPDATE_POPUPS",popups:e}},_=function(e,n){return function(t){fetch(L,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log("The fetch POST returned ",e),t(n(e))})}},U=function(){return{type:"CLEAR_VIEW"}},z=function(e){return function(n){!1===e?n(B({isFetching:!1,isSaved:!1})):(n(I(e)),n(B({isFetching:!1,isSaved:!0}))),n(F({DataMessage:"SAVE"}))}},A=function(e){return function(n){!1===e?n(B({isFetching:!1,isDeleted:!1})):(n(I(e)),n(B({isFetching:!1,isDeleted:!0})),n(U())),n(F({DataMessage:"DELETE"}))}},M=function(){return function(e){e(B({isFetching:!0})),fetch(L).then(function(e){return console.log("actions.js:241 res is",e),e.json()}).then(function(n){return e(function(e){return function(n){n(B({isFetching:!1})),!1!==e&&n(I(e))}}(n))})}},B=function(e){return{type:"SET_DATA",targets:e}},G=function(e,n){return{type:"UPDATE_FIELD",value:e,label:n}},V=function(e,n,t){return{type:"UPDATE_RULE",value:e,label:n,index:t}};function q(){var e=Object(c.a)(["\n  position: relative;\n  padding: 13px 2px;\n  z-index: ",';\n\n  &::after {\n    content: "";\n    display: table;\n    clear: both;\n  }\n\n']);return q=function(){return e},e}var Y=u.b.div(q(),function(e){return e.zIndex}),W=t(6);function $(){var e=Object(c.a)(["\n    padding: 13px;\n    background-color: #d9d9d9;\n  "]);return $=function(){return e},e}function J(){var e=Object(c.a)(["\n    width: 37.2%;\n    margin-right: 0%;\n  "]);return J=function(){return e},e}function K(){var e=Object(c.a)(["\n    width: 60.5%;\n    margin-right: 2%;\n  "]);return K=function(){return e},e}function X(){var e=Object(c.a)(["\n  position: relative;\n  float: left;\n\n  @media screen and (max-width: 980px) {\n    width: 100%;\n    margin-right: 0%;\n    margin-bottom: 30px;\n  }\n\n\n  ","\n\n  ","\n\n  ","\n\n"]);return X=function(){return e},e}var H=u.b.div(X(),function(e){return"left"===e.side&&Object(u.a)(K())},function(e){return"right"===e.side&&Object(u.a)(J())},function(e){return"true"===e.select&&Object(u.a)($())});H.propTypes={side:W.PropTypes.string.isRequired};var Q=H,Z=t(8),ee=t(13),ne=t(12),te=t(10),re=t(11),ae=t(5),ie=t(49),oe=function(e){function n(e){var t;return Object(Z.a)(this,n),(t=Object(ne.a)(this,Object(te.a)(n).call(this,e))).handleClickOutside=function(){console.log("handleClickOutside method called."),t.props.onClickOff()},t.handleClickOutside=t.handleClickOutside.bind(Object(ae.a)(Object(ae.a)(t))),t}return Object(re.a)(n,e),Object(ee.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),le=Object(ie.a)(oe);function ce(){var e=Object(c.a)(["\n\n  p {\n    color: ","\n  }\n\n  label {\n    display: block;\n    color: ","\n  }\n\n  button {\n    float: right;\n  }\n"]);return ce=function(){return e},e}var ue=u.b.div(ce(),function(e){return e.color},function(e){return e.color}),se=function(e){var n=e.color;return a.a.createElement(ue,{color:n},a.a.createElement("p",null,"How useful was this module?"),a.a.createElement("label",{htmlFor:"very-useful"},a.a.createElement("input",{id:"very-useful",value:"very-useful",type:"radio",name:"radios"}),"Very useful"),a.a.createElement("label",{htmlFor:"somewhat-useful"},a.a.createElement("input",{id:"somewhat-useful",value:"somewhat-useful",type:"radio",name:"radios"}),"Somewhat useful"),a.a.createElement("label",{htmlFor:"not-useful"},a.a.createElement("input",{id:"not-useful",value:"not-useful",type:"radio",name:"radios"}),"Not useful"),a.a.createElement("p",null,"Please leave a comment:"),a.a.createElement("label",{htmlFor:"comment"},a.a.createElement("textarea",null)),a.a.createElement("button",null,"Submit"))};function pe(){var e=Object(c.a)(["\n  margin: 0px 0px 0 13px;\n  vertical-align: middle;\n"]);return pe=function(){return e},e}function de(){var e=Object(c.a)(["\n  font-size: 13px;\n  font-weight: 500;\n"]);return de=function(){return e},e}function fe(){var e=Object(c.a)(["\n  position: relative;\n  bottom: 0;\n  background-color: #e7e7e7;\n  color: black;\n  text-align: center;\n  padding: 5px;\n  margin-top: 26px;\n"]);return fe=function(){return e},e}function be(){var e=Object(c.a)(["\n  color: ","\n\n"]);return be=function(){return e},e}function ve(){var e=Object(c.a)(["\n  font-size: 24px;\n  font-weight: 600;\n  color: ","\n\n"]);return ve=function(){return e},e}function he(){var e=Object(c.a)(["\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  display: block;\n  width: 24px;\n  height: 24px;\n  background-color: white;\n  border-radius: 50%;\n  transition: 0.1s all ease-in-out;\n\n  &::before {\n    position: absolute;\n    top: -1px;\n    left: -5px;\n    font-family: ETModules;\n    font-size: 32px;\n    content: '\\e051';\n    color: #85754d;\n    border-radius: 50%;\n    transition: 0.1s all ease-in-out;\n  }\n\n  &:hover, &:focus {\n    background-color: #444444;\n\n    &::before {\n      color: #c7c7c7;\n    }\n  }\n"],["\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  display: block;\n  width: 24px;\n  height: 24px;\n  background-color: white;\n  border-radius: 50%;\n  transition: 0.1s all ease-in-out;\n\n  &::before {\n    position: absolute;\n    top: -1px;\n    left: -5px;\n    font-family: ETModules;\n    font-size: 32px;\n    content: '\\\\e051';\n    color: #85754d;\n    border-radius: 50%;\n    transition: 0.1s all ease-in-out;\n  }\n\n  &:hover, &:focus {\n    background-color: #444444;\n\n    &::before {\n      color: #c7c7c7;\n    }\n  }\n"]);return he=function(){return e},e}function me(){var e=Object(c.a)(["\n  position: absolute;\n  z-index: 999;\n  padding: 28px 20px;\n  text-align: left;\n  border-radius: 3px;\n  background-color: ",";\n  border: ",";\n  ","\n\n"]);return me=function(){return e},e}function ge(){var e=Object(c.a)(["\n        top: calc(50% + 32px);\n        left: calc(50% + 80px);\n        transform: translate(-50%, -50%);\n        width: 50%;\n      "]);return ge=function(){return e},e}function Ee(){var e=Object(c.a)(["\n        right: 20px;\n        top: calc(50% + 32px);\n        transform: translateY( -50% );\n        width: 50%;\n      "]);return Ee=function(){return e},e}function Oe(){var e=Object(c.a)(["\n        left: 180px;\n        top: calc(50% + 32px);\n        transform: translateY( -50% );\n        width: 50%;\n\n        @media screen and ( max-width: 960px ) {\n          left: 34px;\n        }\n      "]);return Oe=function(){return e},e}function ye(){var e=Object(c.a)(["\n        bottom: 0;\n        width: 50%;\n        left: calc(50% + 80px);\n        transform: translateX(-50%);\n      "]);return ye=function(){return e},e}function xe(){var e=Object(c.a)(["\n        top: 52px;\n        width: 50%;\n        left: calc(50% + 80px);\n        transform: translateX(-50%);\n      "]);return xe=function(){return e},e}var we=u.b.div(me(),function(e){return e.backgroundColor},function(e){return e.border},function(e){return function(e){switch(e){case"top":return Object(u.a)(xe());case"bottom":return Object(u.a)(ye());case"left":return Object(u.a)(Oe());case"right":return Object(u.a)(Ee());case"center":return Object(u.a)(ge());default:return}}(e.position)}),je=u.b.a(he()),ke=u.b.h3(ve(),function(e){return e.color||"black"}),Ce=u.b.p(be(),function(e){return e.color||"black"}),Se=u.b.div(fe()),Pe=u.b.label(de()),De=u.b.input(pe()),Te=Object(l.b)(function(e,n){return{show:n.show,popup:e.view.popup}},function(e){return{handleClick:function(){return e(F({Preview:"CLOSED"}))}}})(function(e){e.show;var n=e.popup,t=e.handleClick,r="".concat(n.borderWidth," ").concat(n.borderStyle," ").concat(n.borderColor," ");return a.a.createElement(we,{border:r,backgroundColor:n.backgroundColor,position:n.position},a.a.createElement(je,{href:"#0",onClick:t}),a.a.createElement(ke,{color:n.titleColor},n.title),a.a.createElement(Ce,{color:n.descriptionColor},n.description),a.a.createElement(se,{color:n.bodyColor}),a.a.createElement(Se,null,a.a.createElement(Pe,null,"Don't show this again:",a.a.createElement(De,{type:"checkbox"}))))});function Ne(){var e=Object(c.a)(["\n  position: fixed;\n  z-index: 999;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgba(0,0,0,0.5);\n\n  @media screen and ( max-width: 960px ) {\n    padding-left: 34px;\n  }\n"]);return Ne=function(){return e},e}var Le=u.b.div(Ne()),Fe=Object(l.b)(function(e){return{show:"OPEN"===e.visibility.Preview}},function(e){return{handleClickOff:function(){return e(F({Preview:"CLOSED"}))}}})(function(e){var n=e.show,t=e.handleClickOff;return n?a.a.createElement(Le,null,a.a.createElement(le,{onClickOff:t},a.a.createElement(Te,{show:n}))):null}),Re=t(22),Ie=t(115),_e=t.n(Ie);function Ue(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return Ue=function(){return e},e}var ze=u.b.div(Ue()),Ae=Object(Re.a)(ze),Me=function(e){var n=e.show;return Object(Re.b)(n,null,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{mass:1,tension:300,friction:20}}).map(function(e){var n=e.item,t=e.props;e.key;return n&&a.a.createElement(Ae,{style:t},a.a.createElement(_e.a,{size:"23px",color:"gray",thickness:4,gap:4}))})};Me.proptypes={show:W.PropTypes.bool.isRequired};var Be=Object(l.b)(function(e){return{show:e.data.isFetching}},null)(Me);function Ge(){var e=Object(c.a)(["\n  display: inline-block;\n  height: auto;\n  width: 23px;\n  vertical-align: top;\n  margin-right: 8px;\n\n  svg {\n    enable-background: new 0 0 119.8 119.8;\n  }\n\n  .st0 {\n    fill:#00A500;\n  }\n\n  .st1 {\n    fill:none;\n    stroke:#000000;\n    stroke-width:10;\n    stroke-miterlimit:10;\n  }\n"]);return Ge=function(){return e},e}var Ve=u.b.div(Ge()),qe=Object(Re.a)(Ve),Ye=function(e){var n=e.show;return Object(Re.b)(n,null,{from:{opacity:0,transform:"scale( 0 )"},enter:{opacity:1,transform:"scale( 1 )"},leave:{opacity:0,transform:"scale( 0 )"},config:{mass:1,tension:300,friction:20}}).map(function(e){var n=e.item,t=e.props;e.key;return n&&a.a.createElement(qe,{style:t},a.a.createElement("svg",{version:"1.1",id:"success-check",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 119.8 119.8"},a.a.createElement("g",null,a.a.createElement("circle",{className:"st0",cx:"59.9",cy:"59.9",r:"59.9"}),a.a.createElement("polyline",{className:"st1",points:"28.9,59.9 50.6,86.6 90.2,29.3 \t"}))))})};Ye.proptypes={show:W.PropTypes.bool.isRequired};var We=Ye;function $e(){var e=Object(c.a)(["\n  display: inline-block;\n  height: auto;\n  width: 23px;\n  vertical-align: top;\n  margin-right: 8px;\n\n  svg {\n    enable-background: new 0 0 119.8 119.8;;\n  }\n\n  .st0 {\n    fill:#D70000;\n  }\n\n  .st1 {\n    fill:none;\n    stroke:#000000;\n    stroke-width:10;\n    stroke-miterlimit:10;\n  }\n"]);return $e=function(){return e},e}var Je=u.b.div($e()),Ke=Object(Re.a)(Je),Xe=function(e){var n=e.show;return Object(Re.b)(n,null,{from:{opacity:0,transform:"scale( 0 )"},enter:{opacity:1,transform:"scale( 1 )"},leave:{opacity:0,transform:"scale( 0 )"},config:{mass:1,tension:300,friction:20}}).map(function(e){var n=e.item,t=e.props;e.key;return n&&a.a.createElement(Ke,{style:t},a.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 119.8 119.8"},a.a.createElement("g",null,a.a.createElement("circle",{className:"st0",cx:"59.9",cy:"59.9",r:"59.9"}),a.a.createElement("g",null,a.a.createElement("line",{className:"st1",x1:"29.7",y1:"29.7",x2:"90.1",y2:"90.1"}),a.a.createElement("line",{className:"st1",x1:"90.1",y1:"29.7",x2:"29.7",y2:"90.1"})))))})};Xe.proptypes={show:W.PropTypes.bool.isRequired};var He=Xe;function Qe(){var e=Object(c.a)(["\n    color: crimson;\n  "]);return Qe=function(){return e},e}function Ze(){var e=Object(c.a)(["\n    color: black;\n  "]);return Ze=function(){return e},e}function en(){var e=Object(c.a)(["\n  font-weight: 600;\n  vertical-align: middle;\n\n  ","\n\n  ","\n"]);return en=function(){return e},e}var nn=u.b.span(en(),function(e){return e.success&&Object(u.a)(Ze())},function(e){return!e.success&&Object(u.a)(Qe())}),tn=Object(Re.a)(nn),rn=function(e){var n=e.isSaved,t=e.isDeleted,r=e.showSave,i=e.showDelete,o=r&&n||i&&t,l="";return r?l=n?"Popup saved.":"Failed to save!":i&&(l=t?"Popup deleted.":"Failed to delete!"),Object(Re.b)(r||i,null,{from:{opacity:0,width:"0%"},enter:{opacity:1,width:"100%"},leave:{opacity:0,width:"0%"},config:{mass:1,tension:300,friction:20},onDestroyed:function(){setTimeout(function(){D.dispatch(F({DataMessage:"CLOSED"}))},1e3)}}).map(function(e){var n=e.item,t=e.props;e.key;return n&&a.a.createElement(tn,{style:t,success:o},l)})};rn.proptypes={vis:W.PropTypes.bool.isRequired,success:W.PropTypes.bool.isRequired,error:W.PropTypes.string};var an=rn;function on(){var e=Object(c.a)(["\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n  margin-right: 20px;\n  vertical-align: middle;\n"]);return on=function(){return e},e}function ln(){var e=Object(c.a)(["\n  display: inline-block;\n  // margin-left: 20px;\n  vertical-align: middle;\n  font-size: 13px;\n"]);return ln=function(){return e},e}var cn=u.b.div(ln()),un=u.b.div(on()),sn=function(e){var n=e.vis,t=e.isSaved,r=e.isDeleted,i="SAVE"===n,o="DELETE"===n,l=i&&t||o&&r,c=i&&!t||o&&!r;return a.a.createElement(cn,null,a.a.createElement(un,null,a.a.createElement(Be,null)),a.a.createElement(We,{show:l}),a.a.createElement(He,{show:c}),a.a.createElement(an,{isSaved:t,isDeleted:r,showSave:i,showDelete:o}))};sn.proptypes={vis:W.PropTypes.string.isRequired,saved:W.PropTypes.bool.isRequired,deleted:W.PropTypes.bool.isRequired};var pn=Object(l.b)(function(e){return{vis:e.visibility.DataMessage,isSaved:e.data.isSaved,isDeleted:e.data.isDeleted}},null)(sn);function dn(){var e=Object(c.a)(["\n    pointer-events: none;\n    opacity: 0.4;\n  "]);return dn=function(){return e},e}function fn(){var e=Object(c.a)(["\n  vertical-align: top;\n  margin-left: 10px;\n  margin-right: 20px;\n  min-width: 200px;\n  height: 28px;\n  border: 1.5px solid #909090;\n\n  ","\n"]);return fn=function(){return e},e}function bn(){var e=Object(c.a)(["\n  display: inline-block;\n\n  label {\n    font-size: 13px;\n    font-weight: 600;\n  }\n"]);return bn=function(){return e},e}var vn=u.b.div(bn()),hn=u.b.select(fn(),function(e){return e.disabled&&Object(u.a)(dn())}),mn=Object(l.b)(function(e){return{view:e.view,visibility:e.visibility,popups:e.popups,saved:e.data.isSaved}},function(e){return{handleChange:function(n,t,r,a){n.target.blur(),(a||window.confirm("Popup is not saved.  Load selected popup anyway?"))&&e(function(e,n,t){return function(r){R(r,function(){null===e?r(U()):(r(function(e,n){return{type:"SELECT_POPUP",id:e,popup:n}}(e,t[e])),r(F({DataMessage:"CLOSED",TextSection:"OPENING",StylingSection:"OPENING",RulesSection:"OPENING"})))},n)}}(n.target.value,t,r))}}})(function(e){var n=e.view,t=e.visibility,r=e.popups,i=e.saved,o=e.handleChange,l=Object.keys(r).map(function(e){return a.a.createElement("option",{key:e,thiskey:e,value:e},r[e].name)}),c="FADE"===t.NameSelect;return a.a.createElement(vn,null,a.a.createElement("label",{htmlFor:"NameSelect"},"Select a popup:"),a.a.createElement(hn,{id:"NameSelect",disabled:c,value:null===n.id?"0":n.id,onChange:function(e){return o(e,t,r,i)}},a.a.createElement("option",{key:"0",thiskey:"0",value:"0",hidden:!!l},"---------"),l))});function gn(){var e=Object(c.a)(["\n    background-color: blue;\n    color: white;\n  "]);return gn=function(){return e},e}function En(){var e=Object(c.a)(["\n    float: ",";\n  "]);return En=function(){return e},e}function On(){var e=Object(c.a)(["\n    width: ",";\n  "]);return On=function(){return e},e}function yn(){var e=Object(c.a)(["\n    pointer-events: none;\n    opacity: 0.6;\n    color: #acacac;\n  "]);return yn=function(){return e},e}function xn(){var e=Object(c.a)(["\n  display: inline-block;\n  height: 28px;\n  margin: ",";\n  border: 1px solid #c0c0c0;\n  background-color: #f7f7f7;\n  color: ",";\n  font-weight: 600;\n  transition: 0.15s ease-out;\n\n  &:hover, &:focus {\n    border: 1px solid #fff;\n    background-color: ",";\n    color: #fff;\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n"]);return xn=function(){return e},e}var wn=u.b.button(xn(),function(e){return e.margin||"0 20px 0 0"},function(e){return e.color||"#00a0d2"},function(e){return e.color||"#00a0d2"},function(e){return e.disabled&&Object(u.a)(yn())},function(e){return e.width&&Object(u.a)(On(),e.width)},function(e){return e.float&&Object(u.a)(En(),e.float)},function(e){return e.primary&&Object(u.a)(gn())}),jn=Object(l.b)(function(e,n){return{view:e.view,saved:e.data.isSaved,popups:e.popups}},function(e){return{handleClick:function(n,t,r){n.target.blur(),""===t.popup.name?(alert("Please give this popup a name before saving it."),document.getElementById("popup-name").focus()):e(function(e,n){return function(t){t(B({isFetching:!0}));var r=Object(b.a)({},n,Object(f.a)({},e.id,e.popup));t(_(r,z))}}(t,r))}}})(function(e){var n=e.view,t=e.saved,r=void 0!==t&&t,i=e.popups,o=e.handleClick;return a.a.createElement(wn,{color:"green",width:"56px",float:"left",disabled:!0===r,onClick:function(e){return o(e,n,i)}},!0===r?"Saved":"Save")}),kn=Object(l.b)(function(e){return{view:e.view,visibility:e.visibility,popups:e.popups,saved:e.data.isSaved}},function(e){return{handleClick:function(n,t,r){n.target.blur();var a=document.getElementById("popup-name");null!==a&&a.focus(),(t||window.confirm("Your current popup is not saved.  Add a new popup anyway?"))&&(e(function(e){return function(n){R(n,function(){n({type:"ADD_POPUP"}),n(F({DataMessage:"CLOSED",TextSection:"OPENING",StylingSection:"OPENING",RulesSection:"OPENING"}))},e)}}(r)),e(B({isSaved:!1})))}}})(function(e){var n=e.view,t=e.visibility,r=(e.popups,e.saved),i=e.handleClick;return a.a.createElement(wn,{margin:"0",disabled:""===n.popup.name,onClick:function(e){return i(e,r,t)}},"Add a New Popup")}),Cn=Object(l.b)(function(e){return{view:e.view,visibility:e.visibility,popups:e.popups}},function(e){return{handleClick:function(n,t,r,a,i){n.target.blur();var o=""===i?"this":'the "'+i+'"';window.confirm("Are you sure you want to delete "+o+" popup?")&&e(function(e,n,t){return function(r){r(B({isFetching:!0})),R(r,function(){var n=""+e,a=(t[n],Object(O.a)(t,[n].map(T))),i=Object(b.a)({},a);r(_(i,A))},n)}}(t,r,a))}}})(function(e){var n=e.view,t=e.visibility,r=e.popups,i=e.handleClick;return a.a.createElement(wn,{color:"#c50606",float:"right",margin:"0",disabled:!0===n.saved&&null===n.id,onClick:function(e){return i(e,n.id,t,r,n.popup.name)}},"Delete This Popup")});function Sn(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: top;\n  float: right;\n\n  @media screen and ( max-width: 1060px ) {\n    float: none;\n    margin: 15px 0 0 100px;\n  }\n"]);return Sn=function(){return e},e}var Pn=u.b.div(Sn()),Dn=Object(l.b)(function(e,n){return{view:e.view,popups:e.popups}},null)(function(e){e.view,e.popups;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,{side:"left",select:"true"},a.a.createElement(mn,null),a.a.createElement(Pn,null,a.a.createElement(kn,null))),a.a.createElement(Q,{side:"right",select:"true"},a.a.createElement(jn,null),a.a.createElement(Cn,null)))});function Tn(){var e=Object(c.a)(['\n  position: relative;\n\n  &:not( :last-child ) {\n    padding-bottom: 30px;\n  }\n\n  &::after {\n    content: "";\n    display: table;\n    clear: both;\n  }\n\n']);return Tn=function(){return e},e}var Nn=u.b.div(Tn());function Ln(){var e=Object(c.a)(["\n  padding: 3px 6px;\n  width: 98%;\n  border: 1.5px solid #909090;\n\n  &::placeholder {\n    font-family: Tahoma, sans-serif;\n    font-size: 13px;\n    color: #444444;\n    opacity: 0.5;\n  }\n"]);return Ln=function(){return e},e}function Fn(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: top;\n  width: 78%;\n  // margin-left: 26px;\n\n  span {\n    display: block;\n    margin: 4px 0;\n    font-size: 12px;\n    font-style: italic;\n    color: #444444;\n  }\n"]);return Fn=function(){return e},e}function Rn(){var e=Object(c.a)(["\n  display: inline-block;\n  text-align: right;\n  width: 90px;\n  font-size: 13px;\n  font-weight: 600;\n  margin-right: 13px;\n"]);return Rn=function(){return e},e}var In=u.b.label(Rn()),_n=u.b.div(Fn()),Un=u.b.input(Ln()),zn=Object(l.b)(function(e,n){return{label:n.label,text:n.text,placeholder:n.placeholder,fieldInfo:n.fieldInfo,active:"CLOSED"!==e.visibility.TextSection,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n.target.value,t))}}})(function(e){var n=e.type,t=void 0===n?"text":n,r=e.label,i=e.text,o=e.placeholder,l=e.autoFocus,c=e.fieldInfo,u=e.view,s=e.handleChange,p="popup-"+r,d=u.popup[r];return a.a.createElement(Nn,null,a.a.createElement(In,{htmlFor:p},i,":"),a.a.createElement(_n,null,a.a.createElement(Un,{id:p,type:t,name:p,value:d,autoFocus:l&&""===d,onChange:function(e){return s(e,r)},placeholder:o}),a.a.createElement("span",null,c)))});function An(){var e=Object(c.a)(["\n  padding: 4px 6px;\n  width: 98%;\n  min-height: 8em;\n  font-size: 13px;\n  font-family: Tahoma, sans-serif;\n  border: 1.5px solid #909090;\n\n  &::placeholder {\n    color: #444444;\n    opacity: 0.5;\n  }\n"]);return An=function(){return e},e}function Mn(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: top;\n  width: 78%;\n  // margin-left: 26px;\n\n  span {\n    display: block;\n    margin: 4px 0;\n    font-size: 12px;\n    font-style: italic;\n    color: #444444;\n  }\n"]);return Mn=function(){return e},e}function Bn(){var e=Object(c.a)(["\n  display: inline-block;\n  text-align: right;\n  width: 90px;\n  font-size: 13px;\n  font-weight: 600;\n  margin-right: 13px;\n"]);return Bn=function(){return e},e}var Gn=u.b.label(Bn()),Vn=u.b.div(Mn()),qn=u.b.textarea(An()),Yn=Object(l.b)(function(e,n){return{label:n.label,text:n.text,placeholder:n.placeholder,fieldInfo:n.fieldInfo,active:"CLOSED"!==e.visibility.TextSection,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n.target.value,t))}}})(function(e){var n=e.label,t=e.text,r=e.placeholder,i=e.autoFocus,o=e.fieldInfo,l=e.view,c=e.handleChange,u=l.popup[n],s="popup-"+n;return a.a.createElement(Nn,null,a.a.createElement(Gn,{htmlFor:s},t,":"),a.a.createElement(Vn,null,a.a.createElement(qn,{id:s,name:s,autoFocus:i&&""===u,value:u,onChange:function(e){return c(e,n)},placeholder:r}),a.a.createElement("span",null,o)))}),Wn=t(28);function $n(){var e=Object(c.a)(["\n    background-color: transparent;\n  "]);return $n=function(){return e},e}function Jn(){var e=Object(c.a)(['\n  padding: 26px;\n  background: #e7e7e7;\n\n  &:not( :first-child ) {\n    margin-top: 30px;\n  }\n\n\n  &::after {\n    content: "";\n    display: table;\n    clear: both;\n  }\n\n  ',"\n\n"]);return Jn=function(){return e},e}var Kn=u.b.section(Jn(),function(e){return"light"===e.background&&Object(u.a)($n())}),Xn=function(e){var n=e.visible,t=e.sectionName,r=Object(O.a)(e,["visible","sectionName"]);return a.a.createElement(Wn.a,{config:{mass:1,tension:300,friction:26},items:n,from:{opacity:0,transform:"scale( 0 ) translateY( 0px )"},enter:{opacity:1,transform:"scale( 1 ) translateY( 0px )"},leave:{opacity:0,transform:"scale( 1 ) translateY( 100px )"},onDestroyed:function(){n?D.dispatch(F(Object(f.a)({},t,"OPEN"))):D.dispatch(F(Object(f.a)({},t,"CLOSED")))}},function(e){return e&&function(e){return a.a.createElement(Kn,{style:e},r.children)}})},Hn=Object(l.b)(function(e){return{visibility:e.visibility}},null)(function(e){var n=e.visibility,t="OPENING"===n.StylingSection||"OPEN"===n.StylingSection;return a.a.createElement(Xn,{visible:t,sectionName:"TextSection"},a.a.createElement("h2",null,"Text"),a.a.createElement(zn,{label:"name",text:"Popup Name",placeholder:"unnamed",autoFocus:!0,fieldInfo:"This name will only serve as an identifier in the dropdown menu."}),a.a.createElement(zn,{label:"title",text:"Display Title",placeholder:"please choose a title",fieldInfo:"This title will show at the top of the popup."}),a.a.createElement(Yn,{label:"description",text:"Description",placeholder:"all about the popup",fieldInfo:"This will show beneath the heading, but before the form itself."}))});function Qn(){var e=Object(c.a)(['\n  display: block;\n  width: 90px;\n  font-size: 13px;\n  font-weight: 600;\n  margin: 0 20px 0 0;\n\n  // &::after {\n  //   content: "";\n  //   display: table;\n  //   clear: both;\n  // }\n\n']);return Qn=function(){return e},e}var Zn=u.b.h5(Qn()),et=function(e){var n=e.heading,t=void 0===n?"":n,r=e.children,i=t.length?a.a.createElement(Zn,null,t):"";return a.a.createElement(Nn,null,i,r)},nt=t(116),tt={zIndex:"99999",position:"absolute"},rt=function(e){var n=e.visible,t=e.onDestroyed,r=Object(O.a)(e,["visible","onDestroyed"]);return a.a.createElement(Wn.a,{config:{mass:1,tension:300,friction:24},items:n,from:{opacity:0,transform:"scale( 0 )"},enter:{opacity:1,transform:"scale( 1 )"},leave:{opacity:0,transform:"scale( 0 )"},onDestroyed:t},function(e){return e&&function(e){return a.a.createElement("div",{style:Object(b.a)({},tt,e)},r.children)}})};function at(){var e=Object(c.a)(["\n  position: absolute;\n  z-index: 99999;\n"]);return at=function(){return e},e}var it=u.b.div(at()),ot=function(e){function n(e){var t;return Object(Z.a)(this,n),(t=Object(ne.a)(this,Object(te.a)(n).call(this,e))).handleClickOutside=function(e){t.props.onClickOff(e)},t.handleClickOutside=t.handleClickOutside.bind(Object(ae.a)(Object(ae.a)(t))),t}return Object(re.a)(n,e),Object(ee.a)(n,[{key:"render",value:function(){var e=this.props,n=e.visible,t=e.color,r=e.onChangeComplete,i=e.endTransition;return a.a.createElement(rt,{visible:n,onDestroyed:function(){return i()}},a.a.createElement(it,null,a.a.createElement(nt.ChromePicker,{disableAlpha:!0,color:t,onChangeComplete:function(e){return r(e)}})))}}]),n}(r.Component),lt=Object(ie.a)(ot);function ct(){var e=Object(c.a)(["\n    text-align: left;\n    width: auto;\n\n    input {\n      margin-right: 6px;\n      bottom: -1px;\n      position: relative;\n    }\n  "]);return ct=function(){return e},e}function ut(){var e=Object(c.a)(["\n    text-align: right;\n    width: 70px;\n  "]);return ut=function(){return e},e}function st(){var e=Object(c.a)(["\n  display: inline-block;\n  width: 70px;\n  text-align: right;\n  padding-right: 9px;\n  font-size: 13px;\n  font-weight: 400;\n\n  ","\n\n  ","\n"]);return st=function(){return e},e}function pt(){var e=Object(c.a)(["\n    width: auto;\n    margin-top: 6px;\n    margin-right: 42px;\n  "]);return pt=function(){return e},e}function dt(){var e=Object(c.a)(["\n    width: 200px;\n    margin-top: 12px;\n  "]);return dt=function(){return e},e}function ft(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: middle;\n\n  > div {\n    display: inline-block;\n  }\n\n  select {\n    width: 76px;\n  }\n\n  span {\n    font-size: 13px;\n  }\n\n  ","\n\n  ","\n\n"]);return ft=function(){return e},e}var bt=u.b.div(ft(),function(e){return"position"!==e.type&&Object(u.a)(dt())},function(e){return"position"===e.type&&Object(u.a)(pt())}),vt=u.b.label(st(),function(e){return"position"!==e.type&&Object(u.a)(ut())},function(e){return"position"===e.type&&Object(u.a)(ct())}),ht=function(e){var n=e.thisKey,t=e.type,r=e.title,i=e.children,o=e.htmlFor;Object(O.a)(e,["thisKey","type","title","children","htmlFor"]);return a.a.createElement(bt,{key:n,type:t},a.a.createElement(vt,{htmlFor:o,type:t},"position"!==t&&r+":","position"===t&&i,"position"===t&&r),"position"!==t&&i)};function mt(){var e=Object(c.a)(["\n      border: 4px solid ",";\n    "]);return mt=function(){return e},e}function gt(){var e=Object(c.a)(["\n  width: 76px;\n  cursor: pointer;\n\n  > div:first-child {\n    text-align: center;\n\n    ","\n\n    span {\n      font-size: 13px;\n    }\n  }\n"]);return gt=function(){return e},e}var Et=u.b.div(gt(),function(e){return e.hexColor&&Object(u.a)(mt(),e.hexColor)}),Ot=function(e){function n(e){var t;return Object(Z.a)(this,n),(t=Object(ne.a)(this,Object(te.a)(n).call(this,e))).state={showModal:!1,animating:!1},t}return Object(re.a)(n,e),Object(ee.a)(n,[{key:"toggleModal",value:function(){this.state.animating||this.setState({showModal:!this.state.showModal,animating:!0})}},{key:"endTransition",value:function(){this.setState({animating:!1})}},{key:"render",value:function(){var e=this,n=this.props,t=n.view,r=n.label,i=n.title,o=n.handleChangeComplete,l=t.popup[r];return a.a.createElement(ht,{title:i},a.a.createElement(Et,{hexColor:l},a.a.createElement("div",{onClick:function(){!e.state.showModal&&e.toggleModal()}},a.a.createElement("span",null,l)),a.a.createElement(lt,{visible:this.state.showModal,color:l,onChangeComplete:function(e){return o(e,r)},onClickOff:function(){e.state.showModal&&e.toggleModal()},endTransition:function(){return e.endTransition()}})))}}]),n}(a.a.Component),yt=Object(l.b)(function(e,n){return{title:n.title,label:n.label,id:n.id,view:e.view}},function(e){return{handleChangeComplete:function(n,t){e(G(n.hex,t))}}})(Ot),xt=Object(l.b)(function(e,n){return{title:n.title,label:n.label,id:n.id,options:n.options,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n.target.value,t))}}})(function(e){var n=e.title,t=e.label,r=e.id,i=e.options,o=e.view,l=e.handleChange,c=o.popup[t],u=i.map(function(e,n){return a.a.createElement("option",{key:n,value:e},e)});return a.a.createElement(ht,{title:n,htmlFor:r},a.a.createElement("div",{className:"OptionPicker"},a.a.createElement("select",{id:r,name:r,value:c,onChange:function(e){return l(e,t)}},u)))}),wt=Object(l.b)(function(e,n){return{title:n.title,label:n.label,id:n.id,options:n.options,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n.target.value,t))}}})(function(e){e.title;var n=e.label,t=(e.id,e.options),r=e.view,i=e.handleChange,o=r.popup[n],l=t.map(function(e,t){return a.a.createElement(ht,{type:"position",thisKey:t,key:t,htmlFor:e,title:e[0].toUpperCase()+e.slice(1)},a.a.createElement("input",{type:"radio",key:t,id:e,value:e,checked:e===o,onChange:function(e){i(e,n)}}))});return a.a.createElement("div",{className:"PositionPicker",style:{marginLeft:"78px"}},l)}),jt=Object(l.b)(function(e){return{visibility:e.visibility}},null)(function(e){var n=e.visibility,t="OPENING"===n.StylingSection||"OPEN"===n.StylingSection;return a.a.createElement(Xn,{visible:t,sectionName:"StylingSection"},a.a.createElement("h2",null,"Styling"),a.a.createElement(et,{heading:"Background"},a.a.createElement(yt,{title:"Color",label:"backgroundColor",id:"background-color"})),a.a.createElement(et,{heading:"Text Color"},a.a.createElement(yt,{title:"Title",label:"titleColor",id:"title-color"}),a.a.createElement(yt,{title:"Description",label:"descriptionColor",id:"description-color"}),a.a.createElement(yt,{title:"Body",label:"bodyColor",id:"body-color"})),a.a.createElement(et,{heading:"Border"},a.a.createElement(xt,{title:"Width",label:"borderWidth",id:"border-width",options:["0.5px","1px","2px","3px","4px"]}),a.a.createElement(xt,{title:"Style",label:"borderStyle",id:"border-style`",options:["none","solid","double","dashed","dotted","groove","ridge","inset","outset"]}),a.a.createElement(yt,{title:"Color",label:"borderColor",id:"border-color"})),a.a.createElement(et,{heading:"Position"},a.a.createElement(wt,{label:"position",id:"position",options:["top","bottom","left","right","center"]})))});function kt(){var e=Object(c.a)(["\n  display: inline-block;\n\n  label {\n    margin-right: 13px;\n    font-size: 13px;\n    font-weight: 600;\n  }\n\n  select {\n    text-align: left;\n    width: 100%;\n    padding: 0 5px;\n  }\n"]);return kt=function(){return e},e}var Ct=u.b.div(kt()),St=Object(l.b)(function(e,n){return{label:n.label,id:n.id,forms:e.data.forms,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n.target.value,t))}}})(function(e){var n=e.label,t=e.id,r=e.forms,i=e.view,o=e.handleChange,l=i.popup[n];console.log("forms is",r);var c=[];for(var u in r){var s=r[u].name;c.push(a.a.createElement("option",{key:u,value:u},s))}return console.log("optionList is",c),a.a.createElement(Ct,null,a.a.createElement("label",{htmlFor:t},"Use Form: "),a.a.createElement("select",{id:t,name:t,value:l,onChange:function(e){return o(e,n)}},a.a.createElement("option",{value:"0"},"---------"),c))});function Pt(){var e=Object(c.a)(['\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: .3s all ease-in-out;\n  border-radius: 34px;\n  background-color: #ccc;\n\n  &::before {\n    position: absolute;\n    content: "";\n    height: 20px;\n    width: 20px;\n    left: 2px;\n    bottom: 2px;\n    transition: .3s all ease-in-out;\n    border-radius: 50%;\n    background-color: white;\n  }\n']);return Pt=function(){return e},e}function Dt(){var e=Object(c.a)(["\n  opacity: 0;\n  width: 0;\n  height: 0;\n\n  &:checked + span {\n    background-color: green;\n\n    &::before {\n      transform: translateX(24px);\n    }\n  }\n\n  &:focus + span {\n    box-shadow: 0 0 1px #d7d7d7;\n  }\n"]);return Dt=function(){return e},e}function Tt(){var e=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  width: 48px;\n  height: 24px;\n"]);return Tt=function(){return e},e}var Nt=u.b.label(Tt()),Lt=u.b.input(Dt()),Ft=u.b.span(Pt()),Rt=function(e){var n=e.label,t=e.value,r=e.handleChange,i=n+"-toggle";return a.a.createElement(Nt,{htmlFor:i},a.a.createElement(Lt,{id:i,label:n,type:"checkbox",value:t,checked:!0===t,onChange:function(e){return r(e.target.checked,n)}}),a.a.createElement(Ft,null))};function It(){var e=Object(c.a)(["\n  color: ","\n  font-size: 11px;\n  font-weight: 500;\n"]);return It=function(){return e},e}function _t(){var e=Object(c.a)(["\n  display: inline-block;\n\n  label {\n    margin-right: 13px;\n    font-size: 13px;\n    font-weight: 600;\n  }\n\n  select {\n    text-align: center;\n  }\n"]);return _t=function(){return e},e}var Ut=u.b.div(_t()),zt=u.b.span(It(),function(e){return e.published?"green":"#666"}),At=Object(l.b)(function(e,n){return{label:n.label,id:n.id,options:n.options,view:e.view}},function(e){return{handleChange:function(n,t){e(G(n,t))}}})(function(e){var n=e.view,t=e.handleChange,r=(e.handleClick,n.popup.published),i=r?"Live!":"Draft";return a.a.createElement(Ut,null,a.a.createElement("label",null,"Published?"),a.a.createElement(Rt,{label:"published",value:r,handleChange:t}),a.a.createElement(zt,{published:r},i))});function Mt(){var e=Object(c.a)(["\n  display: inline-block;\n"]);return Mt=function(){return e},e}function Bt(){var e=Object(c.a)(["\n  position: relative;\n  padding-left: 31px;\n\n  input {\n    position: absolute;\n    top: 3px;\n    left: 0;\n  }\n\n  label {\n    font-size: 13px;\n    font-weight: 600;\n  }\n\n  p {\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n  }\n"]);return Bt=function(){return e},e}var Gt=u.b.div(Bt()),Vt=u.b.div(Mt());Object(l.b)(function(e){return{value:e.view.popup.saveToUsermeta}},function(e){return{handleChange:function(n){e(G(n.target.checked,"saveToUsermeta")),e(F({SaveButton:"OPEN"}))}}})(function(e){var n=e.value,t=void 0===n||n,r=e.handleChange;return a.a.createElement(Gt,null,a.a.createElement("input",{type:"checkbox",id:"save-to-usermeta",name:"save-to-usermeta",checked:t,value:t,onChange:function(e){r(e)}}),a.a.createElement(Vt,null,a.a.createElement("label",{htmlFor:"save-to-usermeta"},"Save form responses in the 'wp_usermeta' table?"),a.a.createElement("p",null,"Responses will be saved in each user's metadata."),a.a.createElement("p",null,"Enables easier access for third-party plugins.")))});function qt(){var e=Object(c.a)(["\n    opacity: 1;\n  "]);return qt=function(){return e},e}function Yt(){var e=Object(c.a)(["\n  margin-right: 16px;\n  opacity: 0.5;\n  transition: 0.15s all ease-out;\n\n  ","\n"]);return Yt=function(){return e},e}function Wt(){var e=Object(c.a)(["\n  padding-left: 16px;\n"]);return Wt=function(){return e},e}var $t=u.b.div(Wt()),Jt=u.b.label(Yt(),function(e){return e.checked&&Object(u.a)(qt())}),Kt=Object(l.b)(null,function(e){return{handleChange:function(n,t,r){e(V(n.target.value,t,r))}}})(function(e){var n=e.label,t=e.value,r=void 0===t?"|":t,i=e.index,o=e.handleChange;return a.a.createElement($t,null,a.a.createElement(Jt,{checked:"|"===r},a.a.createElement("input",{type:"radio",value:"|",name:n+"-and-or-"+i,checked:"|"===r,onChange:function(e){return o(e,n,i)}}),"OR"),a.a.createElement(Jt,{checked:"&"===r},a.a.createElement("input",{type:"radio",value:"&",name:n+"-and-or-"+i,checked:"&"===r,onChange:function(e){return o(e,n,i)}}),"AND"))});function Xt(){var e=Object(c.a)(["\n    opacity: 1;\n  "]);return Xt=function(){return e},e}function Ht(){var e=Object(c.a)(["\n  display: block;\n  opacity: 0.5;\n  transition: 0.15s all ease-out;\n\n  ","\n"]);return Ht=function(){return e},e}function Qt(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return Qt=function(){return e},e}var Zt=u.b.div(Qt()),er=u.b.label(Ht(),function(e){return e.checked&&Object(u.a)(Xt())}),nr=Object(l.b)(null,function(e){return{handleChange:function(n,t,r){e(V(n.target.value,t,r))}}})(function(e){var n=e.label,t=e.value,r=void 0===t?"$":t,i=e.index,o=e.handleChange;return a.a.createElement(Zt,null,a.a.createElement(er,{checked:"$"===r},a.a.createElement("input",{type:"radio",value:"$",name:n+"-is-isnt-"+i,checked:"$"===r,onChange:function(e){return o(e,n,i)}}),"is..."),a.a.createElement(er,{checked:"!"===r},a.a.createElement("input",{type:"radio",value:"!",name:n+"-is-isnt-"+i,checked:"!"===r,onChange:function(e){return o(e,n,i)}}),"isn't..."))});function tr(){var e=Object(c.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n"]);return tr=function(){return e},e}var rr=u.b.select(tr()),ar=Object(l.b)(null,function(e){return{handleChange:function(n,t,r){e(V(n.target.value,t,r))}}})(function(e){var n=e.label,t=e.value,r=void 0===t?"":t,i=e.index,o=e.options,l=e.handleChange;console.log("TargetSelector's options are",o);var c=o.map(function(e,n){return a.a.createElement("option",{key:n,value:e},e)});return a.a.createElement(rr,{value:r,onChange:function(e){return l(e,n,i)}},a.a.createElement("option",{value:"***"},"---------"),c)});function ir(){var e=Object(c.a)(["\n  display: block;\n  font-size: 13px;\n  font-weight: 600;\n  color: crimson;\n"]);return ir=function(){return e},e}var or=u.b.span(ir()),lr=function(e){var n=e.heading,t=e.error,r="Warning: you have selected the same ".concat(n," twice.  This will result in an error.");return t?a.a.createElement(or,null,r):null};function cr(){var e=Object(c.a)(["\n  float: right;\n  height: 20px;\n  vertical-align: middle;\n  margin-top: 13px;\n  border:  1px solid #d7d7d7;\n  transition: 0.15s all ease-out;\n\n  &:hover, &:focus {\n    background-color: #444444;\n    color: white;\n    border-color: white;\n  }\n"]);return cr=function(){return e},e}var ur=u.b.button(cr()),sr=Object(l.b)(null,function(e){return{handleClick:function(n,t){window.confirm("Are you sure you want to remove this rule?")&&e(function(e,n){return{type:"REMOVE_RULE",label:e,index:n}}(n,t))}}})(function(e){var n=e.label,t=e.index,r=e.handleClick;return a.a.createElement(ur,{onClick:function(){return r(n,t)}},"Remove this rule")}),pr=function(e){var n=e.visible,t=(e.onDestroyed,Object(O.a)(e,["visible","onDestroyed"]));return a.a.createElement(Wn.a,{config:{mass:1,tension:300,friction:24},items:n,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},function(e){return e&&function(e){return a.a.createElement("div",{style:{transitionProps:e}},t.children)}})};function dr(){var e=Object(c.a)(["\n  padding: 20px;\n  background-color: #e7e7e7;\n\n  &:last-of-type {\n    padding-bottom: 40px;\n  }\n"]);return dr=function(){return e},e}function fr(){var e=Object(c.a)(["\n  padding: 5px 20px;\n  background-color: #e7e7e7;\n"]);return fr=function(){return e},e}var br=u.b.div(fr()),vr=u.b.div(dr()),hr=function(e){var n=e.heading,t=e.label,r=e.error,i=e.index,o=e.rule,l=e.isFirst,c=e.options,u=o[0],s=o[1],p=o.slice(2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(function(e){var n=e.isFirst;return a.a.createElement(pr,{visible:!n},a.a.createElement(br,null,a.a.createElement(Kt,{label:t,value:u,index:i})))},{isFirst:l}),a.a.createElement(vr,null,a.a.createElement(nr,{label:t,value:s,index:i}),a.a.createElement(ar,{label:t,value:p,index:i,options:c}),a.a.createElement(sr,{label:t,index:i}),a.a.createElement(lr,{heading:n,error:r})))};function mr(){var e=Object(c.a)(["\n  position: absolute;\n  right: 20px;\n  bottom: 13px;\n  height: 24px;\n  border: 1px solid #c0c0c0;\n  background-color: #f7f7f7;\n  color: #00a0d2;\n  font-weight: 600;\n  transition: 0.15s ease-out;\n\n  &:hover, &:focus {\n    border: 1px solid #fff;\n    background-color: #00a0d2;\n    color: #fff;\n  }\n\n"]);return mr=function(){return e},e}var gr=u.b.button(mr()),Er=Object(l.b)(function(e,n){return{text:n.text,label:n.label,popup:e.view.popup}},function(e){return{handleClick:function(n,t,r){var a=!1;for(var i in t)t[i].forEach(function(e){"|$***"===e&&(a=!0)});a?alert("Please select a target for the empty rule before adding another rule."):e(function(e,n){return{type:"ADD_RULE",label:e,newRule:n}}(n,r))}}})(function(e){var n=e.text,t=e.label,r=e.popup,i=e.handleClick,o=r.rules;return a.a.createElement(gr,{value:t,onClick:function(){return i(t,o,"|$***")}},"+ ",n)});function Or(){var e=Object(c.a)(["\n  position: relative;\n  flex-grow: 1;\n  padding-bottom: 40px;\n\n  label {\n    font-size: 13px;\n    font-weight: 600;\n  }\n"]);return Or=function(){return e},e}function yr(){var e=Object(c.a)(["\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 40px;\n  min-height: 100px;\n  background: #444444;\n  color: white;\n\n  h5 {\n    position: absolute;\n    top: calc( 50% + 17px);\n    transform: rotate(-90deg);\n    transform-origin: top left 0;\n    width: 80px;\n    padding-top: 8px;\n    text-align: center;\n    font-size: 14px;\n  }\n"]);return yr=function(){return e},e}function xr(){var e=Object(c.a)(["\n  display: flex;\n  align-items: stretch;\n  border: 3px solid white;\n  border-bottom: 0;\n\n  &:last-of-type {\n    border-bottom: 3px solid white;\n  }\n"]);return xr=function(){return e},e}var wr=u.b.div(xr()),jr=u.b.div(yr()),kr=u.b.div(Or()),Cr=Object(l.b)(function(e,n){return{heading:n.heading,label:n.label,rules:n.rules,allRules:n.allRules,data:e.data}},null)(function(e){var n=e.heading,t=e.label,r=e.rules,i=e.allRules,o=e.data,l=function(e){return o[e]},c=function(e){if(void 0===e)return!1;for(var n=e.map(function(e){return e.slice(2)}),t=0;t<n.length;t++)for(var r=t+1;r<n.length;r++)if(n[t]===n[r])return r;return!1}(r),u=r.map(function(e,r){var o=r===c,u=function(e,n,t){return 0!==n?(console.log("index === 0"),!1):"categories"===e?(console.log("label === categories"),!0):"tags"===e&&0===t.categories.length?(console.log("label === tags && other conditions met."),!0):"postTypes"===e&&0===t.categories.length&&0===t.tags.length?(console.log("label === postTypes && other conditions met."),!0):(console.log("No conditions met."),!1)}(t,r,i);return a.a.createElement(hr,{heading:n,label:t,error:o,key:r,index:r,rule:e,isFirst:u,options:l(t)})});return a.a.createElement(wr,null,a.a.createElement(jr,null,a.a.createElement("h5",null,n)),a.a.createElement(kr,null,a.a.createElement(Wn.a,{items:u,keys:function(e){return e.key},config:{mass:1,tension:300,friction:30},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},function(e){return function(n){return a.a.createElement("div",{style:n},e)}}),a.a.createElement(Er,{text:n,label:t})))});function Sr(){var e=Object(c.a)(["\n  h3 {\n    margin-top: 0;\n  }\n"]);return Sr=function(){return e},e}var Pr=u.b.div(Sr()),Dr=Object(l.b)(function(e){return{popup:e.view.popup}},null)(function(e){var n=e.popup,t=n.rules?n.rules:{categories:[],tags:[],postTypes:[]};return a.a.createElement(Pr,null,a.a.createElement("h3",null,"Display this popup when..."),a.a.createElement(Cr,{heading:"Category",label:"categories",rules:t.categories,allRules:t}),a.a.createElement(Cr,{heading:"Tag",label:"tags",rules:t.tags,allRules:t}),a.a.createElement(Cr,{heading:"Post Type",label:"postTypes",rules:t.postTypes,allRules:t}))}),Tr=Object(l.b)(function(e){return{visibility:e.visibility}},function(e){return{handleClick:function(){e(F({Preview:"OPEN"}))}}})(function(e){var n=e.visibility,t=e.handleClick,r="OPENING"===n.RulesSection||"OPEN"===n.RulesSection;return a.a.createElement(Xn,{visible:r,sectionName:"RulesSection"},a.a.createElement("h2",null,"Rules"),a.a.createElement(et,null,a.a.createElement(At,null),a.a.createElement(wn,{color:"#e73cf3",margin:"0",float:"right",onClick:t},"Preview")),a.a.createElement(et,null,a.a.createElement(St,{label:"formId",id:"form-id",options:[1,2,3,4,5]})),a.a.createElement(et,null,a.a.createElement(Dr,null)))}),Nr=Object(l.b)(function(e){return{storeState:JSON.stringify(e,null,4)}},null)(function(e){var n=e.storeState;return a.a.createElement("div",{className:"store-log"},a.a.createElement("pre",{id:"store-log"},n))}),Lr=function(e){function n(e){var t;return Object(Z.a)(this,n),(t=Object(ne.a)(this,Object(te.a)(n).call(this,e))).loadingMsg=a.a.createElement("p",null,"Loading..."),t.errorMsg=function(e){return a.a.createElement("div",null,a.a.createElement("p",null,"There was an error:"),a.a.createElement("p",null,e.message))},t.state={isLoading:!0,data:{},error:!1},t}return Object(re.a)(n,e),Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getUrl",value:function(){var e=window.location.origin;return e.indexOf("localhost")>-1?e+"/dev/wp-json/chsie_popups/v1/popups":e+"/wp-json/chsie_popups/v1/popups"}},{key:"fetchData",value:function(){var e=this;fetch(this.getUrl()).then(function(e){return e.json()}).then(function(n){e.setState({data:n,isLoading:!1}),console.log("Fetched object is",n)}).catch(function(n){return e.setState({error:n,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,n=e.isLoading,t=e.data,r=e.error;return a.a.createElement("div",{className:"fetch-log"},a.a.createElement("h5",null,"Fetched:"),a.a.createElement("pre",{id:"fetch-log"},n?this.loadingMsg:JSON.stringify(t),r?this.errorMsg:null))}}]),n}(r.Component);function Fr(){var e=Object(c.a)(["\n  margin-right: 20px;\n  padding: 6px 0;\n"]);return Fr=function(){return e},e}function Rr(){var e=Object(c.a)(['\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  h2 {\n    margin-top: 0;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n']);return Rr=function(){return e},e}var Ir=u.b.div(Rr()),_r=u.b.span(Fr()),Ur=document.getElementById("chsie_popups_app");o.a.render(a.a.createElement(l.a,{store:D},a.a.createElement(function(){Object(r.useEffect)(function(){D.dispatch(M())});var e=a.a.createElement(Y,{zIndex:"-1"},a.a.createElement(Lr,null),a.a.createElement(Nr,null));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe,null),a.a.createElement(Ir,null,a.a.createElement(Y,null,a.a.createElement(_r,null,"This application allows you to turn a Formidable form into a custom popup."),a.a.createElement(pn,null)),a.a.createElement(Y,null,a.a.createElement(Dn,null)),a.a.createElement(Y,null,a.a.createElement(Q,{side:"left"},a.a.createElement(Hn,null),a.a.createElement(jt,null)),a.a.createElement(Q,{side:"right"},a.a.createElement(Tr,null))),e))},null)),Ur)}},[[118,2,1]]]);
//# sourceMappingURL=main.ed9293b2.chunk.js.map